<script>


    const qtyUpButtons = document.querySelectorAll('.qty-up');
    const qtyDownButtons = document.querySelectorAll('.qty-down');
    const cartTotalElements = document.querySelectorAll('.cart-total');
    const productPrices = document.querySelectorAll('.peice span'); 
      const initialPrices = Array.from(productPrices).map(price => Number(price.textContent));
    const initialQuantities = Array.from(document.querySelectorAll('.qty-val')).map(qty => Number(qty.textContent));
  
    qtyUpButtons.forEach((button, index) => {
      button.addEventListener('click', () => {
        const qtyVal = Number(initialQuantities[index]);
          const newQty = qtyVal + 1;
        initialQuantities[index] = newQty;
  
        const newTotal = initialPrices[index] * newQty;
  
        cartTotalElements[index].textContent = newTotal;
      });
    });
  
    qtyDownButtons.forEach((button, index) => {
      button.addEventListener('click', () => {
        const qtyVal = Number(initialQuantities[index]);
  
        if (qtyVal > 1) {
          const newQty = qtyVal - 1;
          initialQuantities[index] = newQty;
  
          const newTotal = initialPrices[index] * newQty;
  
          cartTotalElements[index].textContent = newTotal;
        }
      });
    });


  document.addEventListener("DOMContentLoaded", function () {
  // Helper function to calculate the grand total
  function calculateGrandTotal() {
    const productTotalElements = document.querySelectorAll('.cart-total');
    const productTotals = Array.from(productTotalElements).map(element => parseFloat(element.textContent));
    const grandTotal = productTotals.reduce((total, productTotal) => total + productTotal, 0);
    return grandTotal;
  }

  // Helper function to format currency in Indian Rupees
  function formatCurrency(value) {
    return `â‚¹${value.toFixed(2)}`;
  }

  const grandTotalElement = document.getElementById('grandTotal');

  // Calculate the initial grand total
  const initialGrandTotal = calculateGrandTotal();
  grandTotalElement.textContent = formatCurrency(initialGrandTotal);

  // Update the grand total when quantity changes
  const quantityButtons = document.querySelectorAll('.qty-up, .qty-down');
  quantityButtons.forEach(qunty => {
    qunty.addEventListener("click", (event) => {
      // ... (your existing code for updating quantity)

      // Update the grand total
      const newGrandTotal = calculateGrandTotal();
      grandTotalElement.textContent = formatCurrency(newGrandTotal);
    });
  });
});

 </script>